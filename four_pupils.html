<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Four Pupils by May</title>
  </head>
  <body>
    <h2>Repository Pages</h2>
    <ul>
        <li><a href="https://osazuwaemmanuel.github.io/ncp_community/">HomePage</a></li>
        <li><a href="https://osazuwaemmanuel.github.io/ncp_community/four_pupils.html">Four Pupils by May</a></li>
        <li><a href="https://github.com/OsazuwaEmmanuel/ncp_community">Github Repo</a></li>
        <li><a href="https://docs.google.com/spreadsheets/d/1EMK2fXn6rR_q4wJV4fU-CR55GBwVqwWYESp7DDpYD4U/edit?usp=sharing">Updating Upsolves</a></li>
        <li><a href="https://osazuwaemmanuel.github.io/ncp_community/get_unsolved_and_solved_problems.html">Get Unsolved and Solved Problems of Codeforces User</a></li>
        <li><a href="https://osazuwaemmanuel.github.io/ncp_community/resources.html">Competitive Programming Resources</a></li>
    </ul>
    <h3> Four Pupils by May </h3>
    <table border="1">
      <thead>
        <tr>
          <th>S/N</th>
          <th>User</th>
          <th>Codeforces Rating</th>
          <th>Pupil Gap</th>
          <th>Codeforces Profile</th>
        </tr>
      </thead>
      <tbody id="ratingTableBody"></tbody>
    </table>
    <ul>
      If:
      <li>Your name is not here. Or</li>
      <li>You want to correct a mistake I made here. Or</li>
      <li>You want to make the page look better.</li>
    </ul>
    <ul>
      You can either:
      <li>Fork the <a href="https://github.com/OsazuwaEmmanuel/ncp_community">repository</a>, make your changes and submit a pull request. Or</li>
      <li>Raise an issue <a href="https://github.com/OsazuwaEmmanuel/ncp_community/issues">here</a>. Or</li>
      <li>Start a discussion <a href="https://github.com/OsazuwaEmmanuel/ncp_community/discussions">here</a>.</li>
    </ul>
    <script>
      const users = [
        { name: 'Emmanuel', handle: 'OsazuwaEmmanuel', rating: 629 },
        { name: 'Genesis', handle: 'daveshub', rating: 783 },
        { name: 'Minerva', handle: 'Minerva2005', rating: 932 },
        { name: 'Turing_apple', handle: 'Turing_apple', rating: 847 },
        { name: 'python_tamer', handle: 'python_tamer', rating: 1107 },
        { name: 'cyberdude', handle: 'cyberdude', rating: 742 },
        { name: 'cryptickid91', handle: 'cryptickid91', rating: 566 }
        // Hey there, you can add your data here
      ];
      async function populateTable() {
        const tableBody = document.getElementById('ratingTableBody');
        const sortedUsers = users.sort((a, b) => b.rating - a.rating);
        let uid = 1;
        sortedUsers.forEach(user => {
          const adjustedRating = 1200 - user.rating; // Calculate adjusted rating
          const profileLink = `https://codeforces.com/profile/${user.handle}`; // Codeforces profile link
          const row = `<tr><td>${uid}</td><td>${user.name}</td><td>${user.rating}</td><td>${adjustedRating}</td><td><a href="${profileLink}" target="_blank">Profile</a></td></tr>`;
          tableBody.insertAdjacentHTML('beforeend', row);
          ++uid;
        });
      }
      window.onload = populateTable;
    </script>
  </body>
</html>